@model StoreOnLine.Areas.Merchant.Models.ScheduleDetailView
@{
    ViewBag.Title = "Asistencia";
    Layout = "~/Views/Shared/_SupervisorLayout.cshtml";
    var ajaxOpts = new AjaxOptions
    {
        UpdateTargetId = "tableBody",
        Url = Url.Action("OnTime", "Working"),
        LoadingElementDuration = 1000,
        LoadingElementId = "loading",
        HttpMethod = "Post",
        OnSuccess = "OnSuccess"

    };
}
<div class="row">
    <div class="col-lg-12">
        @{Html.RenderPartial("_Title", new StoreOnLine.HtmlHelpers.PageTitleHelpers(
              (string)ViewBag.Big,
              (string)ViewBag.Small,
              (string)ViewBag.Area,
              (string)ViewBag.Controller,
              (string)ViewBag.Action)
              );}
    </div>
</div>

@{
    if (Model != null)
    {
        using (Ajax.BeginForm("OnTime", "Working", ajaxOpts, new { @class = "form-horizontal" }))
        {
    @Html.ValidationSummary()
    @Html.HiddenFor(m=>m.Id)
    @Html.HiddenFor(m=>m.PersonId)
    @Html.HiddenFor(m=>m.ScheduleId)
    <div class="form-group">
        <label class="col-lg-2 control-label">Hora Entrada</label>
        <div class="col-lg-10">
            <label class="form-control">@Model.TimeStart.ToShortTimeString()</label>
        </div>
    </div>
    <div class="form-group">
        <label class="col-lg-2 control-label">Hora Salida</label>
        <div class="col-lg-10">
            <label class="form-control">@Model.TimeEnd.ToShortTimeString()</label>
        </div>
    </div>
            <div class="form-group">
                <label class="col-lg-2 control-label">Asistencia</label>
                <div class="col-lg-10">
                    @Html.DropDownListFor(m => m.TypeOfTask,
                        new SelectList(Enum.GetNames(typeof(TypeOfTask))),
                        "------------------------------",
                        new { @class = "form-control btn btn-primary" })
                </div>
            </div>
    <div class="form-group">
                <label class="col-lg-2 control-label">Asistencia</label>
                <div class="col-lg-10">
                    @Html.DropDownListFor(m => m.PersonId,
                        (SelectList)ViewBag.Person,
                        "------------------------------",
                        new { @class = "form-control btn btn-primary" })
                </div>
            </div>
    

    <input type="submit" value="Guardar" class="btn btn-primary pull-right" />
        }
    }

}


@section Scripts {

    <script type="text/javascript">
        $(document).ready(function () {
            $('#DataTablePerson').dataTable({
                "order": [[0, "asc"]],
                "paging": false,
                //"pagingType": "full_numbers",
                "scrollY": "300px",
                "scrollCollapse": true,
                "jQueryUI": true,
                "oLanguage": {
                    "sSearch": "<b> Buscar :</b>  ",
                    "sInfo": "Mostrando _START_ de _END_  registros",
                    "sLoadingRecords": "Cargando...",
                    "sProcessing": "Procesando...",
                    "sEmptyTable": "No hay informacion para mostrar"
                }
            });
        });

    </script>

}